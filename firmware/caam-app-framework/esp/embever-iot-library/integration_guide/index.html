
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      
      
      <link rel="icon" href="../../../../../images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.34">
    
    
      
        <title>Integration Guide - Cloud-as-a-Module Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../../../../assets/stylesheets/main.35f28582.min.css">
      
        
        <link rel="stylesheet" href="../../../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../../../stylesheets/extra-styles.css">
    
    <script>__md_scope=new URL("../../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#integration-guide" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../../.." title="Cloud-as-a-Module Documentation" class="md-header__button md-logo" aria-label="Cloud-as-a-Module Documentation" data-md-component="logo">
      
  <img src="../../../../../images/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Cloud-as-a-Module Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Integration Guide
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../../getting_started/" class="md-tabs__link">
          
  
  Getting Started

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../../links/prerequisites/" class="md-tabs__link">
          
  
  Links

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../../faqs/" class="md-tabs__link">
          
  
  FAQs

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../../.." title="Cloud-as-a-Module Documentation" class="md-nav__button md-logo" aria-label="Cloud-as-a-Module Documentation" data-md-component="logo">
      
  <img src="../../../../../images/logo.png" alt="logo">

    </a>
    Cloud-as-a-Module Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Getting Started
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            Getting Started
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../getting_started/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Index
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../getting_started/esp/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Esp
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../getting_started/uaf/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CaaM Application Framework
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Links
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Links
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../links/prerequisites/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Prerequisites
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    FAQs
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            FAQs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../faqs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Index
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#integrating-the-delay_func" class="md-nav__link">
    <span class="md-ellipsis">
      Integrating the {{ DELAY_FUNC }}
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#integrating-the-gpio_drv" class="md-nav__link">
    <span class="md-ellipsis">
      Integrating the {{ GPIO_DRV }}
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#integrating-the-embever-i2c-driver" class="md-nav__link">
    <span class="md-ellipsis">
      Integrating the Embever {{ I2C }} Driver
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Integrating the Embever {{ I2C }} Driver">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#void-wire_begin-uint8_t-address" class="md-nav__link">
    <span class="md-ellipsis">
      void wire_begin (uint8_t address)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#size_t-wire_write-uint8_t-data" class="md-nav__link">
    <span class="md-ellipsis">
      size_t wire_write (uint8_t data)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#void-wire_end" class="md-nav__link">
    <span class="md-ellipsis">
      void wire_end ()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#void-wire_requestfromuint8_t-address-uint8_t-nof_bytes" class="md-nav__link">
    <span class="md-ellipsis">
      void wire_requestFrom(uint8_t address, uint8_t nof_bytes)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#int-wire_available" class="md-nav__link">
    <span class="md-ellipsis">
      int wire_available ()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#int-wire_read" class="md-nav__link">
    <span class="md-ellipsis">
      int wire_read()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="integration-guide">Integration Guide</h1>
<p>To be able to use the {{ EIOT }} the {{ INT_LAYER }} needs to be set up. The {{ INT_LAYER }} provides access to the
hardware resources in order to establish communication with an Embever
IoT device. For more information about the {{ INT_LAYER }} refer to the
<a href="../api/integration_layer/">Integration layer</a> topic under the API
section.</p>
<p>Integrating the {{ EIOT }} will take 3 parts: the Embever {{ I2C }} driver, the Embever GPIO
driver and the {{ DELAY_FUNC }}. The integration layer needs to be set up before using
the other parts of the {{ EIOT }} .</p>
<h2 id="integrating-the-delay_func">Integrating the {{ DELAY_FUNC }}</h2>
<p>The is {{ DELAY_FUNC }} necessary to the Embever IoT Library to ddetect timeout events.
The following example shows how to set up the {{ DELAY_FUNC }} using the Arduino framework.</p>
<div class="highlight"><pre><span></span><code><span class="n">ebv_delay_register</span><span class="p">(</span><span class="n">delay</span><span class="p">);</span>
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The functions passed to the delay registration routine expects only 1
argument, which defines the delay value in milliseconds.</p>
</div>
<p>The function definition is the following:</p>
<div class="highlight"><pre><span></span><code><span class="kt">void</span><span class="w"> </span><span class="nf">ebv_delay_register</span><span class="p">(</span><span class="kt">void</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">delay</span><span class="p">)(</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="n">ms</span><span class="p">));</span>
</code></pre></div>
<h2 id="integrating-the-gpio_drv">Integrating the {{ GPIO_DRV }}</h2>
<p>The {{ GPIO_DRV }} requires 2 functions to be able to read the digital signals on the
designed pins. To set it up, you need to provide those 2 functions and
then register them on <code>ebv_esp_gpio_cb</code> (more details bellow). Take a
look at the following code sample, using the Arduino framework:</p>
<div class="highlight"><pre><span></span><code><span class="cp">#define PIN_EBV_IRQ     ARDUINO_PIN_A2</span>
<span class="cp">#define PIN_EBV_READY   ARDUINO_PIN_A3</span>

<span class="c1">// Interface function for reading the ready state</span>
<span class="kt">bool</span><span class="w"> </span><span class="nf">gpio_readReady</span><span class="p">(){</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">digitalRead</span><span class="p">(</span><span class="n">PIN_EBV_READY</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// Interface function for reading the irq state</span>
<span class="kt">bool</span><span class="w"> </span><span class="nf">gpio_readIrq</span><span class="p">(){</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">digitalRead</span><span class="p">(</span><span class="n">PIN_EBV_IRQ</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>The above example shows the 2 required interface functions which can
fullfil the {{ GPIO_DRV }} requirements. The functions should have <code>boolean</code> return
type based on the following logic.</p>
<div class="center-table">
<p><em>Return value logic</em></p>
<table>
<thead>
<tr>
<th>GPIO Pin logic level</th>
<th>Function return</th>
</tr>
</thead>
<tbody>
<tr>
<td>HIGH</td>
<td><code>true</code></td>
</tr>
<tr>
<td>LOW</td>
<td><code>false</code></td>
</tr>
</tbody>
</table>
</div>
<p>After defining those functions they should be registered into the {{ GPIO_DRV }} using
the <code>ebv_esp_gpio_cb</code> structure. A possible implementation might look\'s
like the following:</p>
<div class="highlight"><pre><span></span><code><span class="k">struct</span><span class="w"> </span><span class="nc">ebv_esp_gpio_cb</span><span class="w"> </span><span class="n">gpio_cb</span><span class="p">;</span>
<span class="n">gpio_cb</span><span class="p">.</span><span class="n">readReady</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">gpio_readReady</span><span class="p">;</span>
<span class="n">gpio_cb</span><span class="p">.</span><span class="n">readIRQ</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">gpio_readIrq</span><span class="p">;</span>
<span class="n">ebv_esp_gpio_registerGpio</span><span class="p">(</span><span class="o">&amp;</span><span class="n">gpio_cb</span><span class="p">);</span>
</code></pre></div>
<h2 id="integrating-the-embever-i2c-driver">Integrating the Embever {{ I2C }} Driver</h2>
<p>To integrate the Embever {{ I2C }} Driver, a few interface functions need to be
set up. Starting with a possible implementation first and then
discussing them in details.</p>
<div class="highlight"><pre><span></span><code><span class="kt">void</span><span class="w"> </span><span class="nf">wire_begin</span><span class="p">(</span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">address</span><span class="p">){</span>
<span class="w">    </span><span class="n">Wire</span><span class="p">.</span><span class="n">beginTransmission</span><span class="p">(</span><span class="n">address</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">wire_end</span><span class="p">(){</span>
<span class="w">    </span><span class="n">Wire</span><span class="p">.</span><span class="n">endTransmission</span><span class="p">();</span>
<span class="p">}</span>

<span class="kt">int</span><span class="w"> </span><span class="nf">wire_available</span><span class="p">(){</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Wire</span><span class="p">.</span><span class="n">available</span><span class="p">();</span>
<span class="p">}</span>

<span class="kt">size_t</span><span class="w"> </span><span class="nf">wire_write</span><span class="p">(</span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">data</span><span class="p">){</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Wire</span><span class="p">.</span><span class="n">write</span><span class="p">(</span><span class="n">data</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">wire_requestFrom</span><span class="p">(</span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">address</span><span class="p">,</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">nof_bytes</span><span class="p">){</span>
<span class="w">    </span><span class="n">Wire</span><span class="p">.</span><span class="n">requestFrom</span><span class="p">(</span><span class="n">address</span><span class="p">,</span><span class="w"> </span><span class="n">nof_bytes</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">int</span><span class="w"> </span><span class="nf">wire_read</span><span class="p">(){</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Wire</span><span class="p">.</span><span class="n">read</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="void-wire_begin-uint8_t-address">void wire_begin (uint8_t address)</h3>
<p>Initiate the device address by the <code>address</code> parameter and prepare the
peripheral to transmit data (but don\'t transmit anything to the bus
yet).</p>
<h3 id="size_t-wire_write-uint8_t-data">size_t wire_write (uint8_t data)</h3>
<p>Copy <code>data</code> to the internal buffer. Not sending anything to the bus yet.
Return 1 if the operation was successful, return 0 if not.</p>
<!-- is it returning always 1 in case of success? Since the return type is size_t I thought it was returning
the amount of data transmitted. If it's not the case then I think it's better to change the type to int

little bit confusing, this function copy only 1 byte of data to the buffer, so this is why we can say,
that it is returning with the amount of copied data. If the buffer is full, then it was not able to do the copy,
so return with 0.
TODO: Revisit -->

<h3 id="void-wire_end">void wire_end ()</h3>
<p>Flushes the internal buffers, if any, by writing them to the {{ I2C }} bus and
issue a stop sequence.</p>
<h3 id="void-wire_requestfromuint8_t-address-uint8_t-nof_bytes">void wire_requestFrom(uint8_t address, uint8_t nof_bytes)</h3>
<p>Issues a read sequence on the {{ I2C }} bus and tries to read <code>nof_bytes</code> from
device specified by <code>address</code>. Puts the incoming data into an internal
buffer.</p>
<h3 id="int-wire_available">int wire_available ()</h3>
<p>Returns the number of received bytes during the last transaction.</p>
<h3 id="int-wire_read">int wire_read()</h3>
<p>Reads the incoming data from the internal buffer. This function reads
and returns only 1 byte from the internal buffer. This function should
called only if there are data in the internal buffer only. If the
internal buffer is empty, should return with -1.</p>
<p>As the above topic suggest, implementing the required {{ I2C }} driver can be more
challenging than the {{ GPIO_DRV }} implementation. Using an internal receive and
transmit buffer might also be necessary to fullfil the requirements. The
Embever {{ I2C }} Driver interface was inspired by the Arduino Wire library. To
get more information about the working principles and the expectation of
the Embever {{ I2C }} Driver, take look at the <a href="https://github.com/arduino/ArduinoCore-avr">Arduino Wire
library</a>.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2023 Embever GmbH – <a href="#__consent">Change cookie settings</a>

    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../../../..", "features": ["navigation.tabs", "navigation.tabs.sticky", "navigation.top", "content.code.copy"], "search": "../../../../../assets/javascripts/workers/search.07f07601.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../../../assets/javascripts/bundle.56dfad97.min.js"></script>
      
        <script src="../../../../../js/extra.js"></script>
      
    
  </body>
</html>